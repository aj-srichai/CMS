<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPF Construction System Portal</title>
    <link rel="icon" href="cpf-logo.png" type="image/png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Sarabun', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2f1 100%);
            color: #1e293b;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow-x: hidden;
            padding: 2rem;
        }

        /* Background Effects */
        .hybrid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            pointer-events: none;
            overflow: hidden;
        }

        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.6;
            animation: float 20s ease-in-out infinite;
        }

        .blob-gold {
            top: -10%;
            right: -5%;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(251,191,36,0.2), transparent 70%);
        }

        .blob-green {
            bottom: -10%;
            left: -5%;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(16,185,129,0.2), transparent 70%);
            animation-delay: -10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
        }

        /* Login Button */
        .top-right-login {
            position: fixed;
            top: 24px;
            right: 24px;
            z-index: 1000;
        }

        .btn-login-ghost {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 2px solid rgba(16, 185, 129, 0.2);
            padding: 12px 24px;
            border-radius: 50px;
            color: #0f766e;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .btn-login-ghost:hover {
            background: white;
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.2);
            transform: translateY(-2px);
            border-color: #10b981;
        }

        .btn-login-ghost i {
            font-size: 1.1rem;
        }

        /* Main Container */
        .portal-container {
            max-width: 1100px;
            width: 100%;
            text-align: center;
            z-index: 10;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header Section */
        .portal-header {
            margin-bottom: 4rem;
        }

        .logo-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 2rem;
        }

        .portal-header img {
            height: 90px;
            width: auto;
            filter: drop-shadow(0 8px 16px rgba(0,0,0,0.1));
            transition: transform 0.3s ease;
        }

        .portal-header img:hover {
            transform: scale(1.05);
        }

        .portal-header h1 {
            font-size: 2.75rem;
            color: #0f3d33;
            margin-bottom: 0.75rem;
            font-weight: 700;
            line-height: 1.2;
            letter-spacing: -0.5px;
        }

        .portal-header p {
            color: #64748b;
            font-size: 1.2rem;
            font-weight: 400;
        }

        /* Cards Layout */
        .card-wrapper {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .role-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(226, 232, 240, 0.8);
            border-radius: 24px;
            padding: 3rem 2rem;
            
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            
            text-decoration: none;
            color: inherit;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        }

        /* Hover Effects */
        .role-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(16, 185, 129, 0.1), transparent 70%);
            transform: scale(0);
            transition: transform 0.6s ease;
        }

        .role-card:hover::before {
            transform: scale(1);
        }

        .role-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(16, 185, 129, 0.15);
            border-color: #10b981;
        }

        /* Icon Style */
        .icon-wrapper {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            transition: all 0.4s ease;
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }

        .role-card:hover .icon-wrapper {
            transform: rotate(360deg) scale(1.1);
            box-shadow: 0 12px 30px rgba(16, 185, 129, 0.4);
        }

        .icon-wrapper i {
            font-size: 2.5rem;
            color: white;
        }

        /* Card Text */
        .card-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .role-card h3 {
            font-size: 1.35rem;
            color: #0f3d33;
            font-weight: 700;
            letter-spacing: -0.3px;
        }

        .role-card span {
            font-size: 0.95rem;
            color: #94a3b8;
            font-weight: 500;
        }

        /* Decorative Bottom Line */
        .role-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, #10b981, #d97706);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .role-card:hover::after {
            transform: scaleX(1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 1rem;
                padding-top: 80px;
                align-items: flex-start;
            }

            .portal-container {
                margin-top: 2rem;
            }

            .portal-header {
                margin-bottom: 2.5rem;
            }

            .logo-wrapper {
                flex-direction: column;
                gap: 15px;
            }

            .portal-header img {
                height: 70px;
            }

            .portal-header h1 {
                font-size: 2rem;
            }

            .portal-header p {
                font-size: 1rem;
            }

            .card-wrapper {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .role-card {
                padding: 2rem 1.5rem;
            }

            .icon-wrapper {
                width: 80px;
                height: 80px;
            }

            .icon-wrapper i {
                font-size: 2rem;
            }

            .role-card h3 {
                font-size: 1.2rem;
            }

            .btn-login-ghost {
                padding: 10px 18px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .portal-header h1 {
                font-size: 1.6rem;
            }

            .card-wrapper {
                gap: 1rem;
            }
        }
        /* --- เริ่มส่วนแก้ไข (Patch Fix) --- */

    /* 1. แก้พื้นหลังช่องกรอกข้อมูลให้เป็นสีขาว (แก้เรื่องสีเหลืองนวล) */
    input, select, textarea, .form-control {
        background-color: #ffffff !important;  /* บังคับขาว */
        border-color: #e2e8f0;                 /* ปรับขอบให้ดูนวลตาเข้ากับพื้นขาว */
        color: #1e293b !important;             /* ตัวหนังสือสีเข้ม */
    }

    /* 2. ตั้งค่าเฉพาะตอน Export PDF หรือ สั่ง Print */
    @media print {
        /* บังคับทุกอย่างให้เป็นพื้นขาว ตัวดำ */
        body {
            background-color: #ffffff !important;
            color: #000000 !important;
        }

        /* เจาะจงแก้พวกป้ายสีๆ (Project/Discount) หรือปุ่ม */
        .badge, .tag, span[class*="bg-"], div[class*="bg-"] {
            background-color: transparent !important; /* ลบสีพื้นหลังออก */
            color: #000000 !important;                /* เปลี่ยนตัวหนังสือเป็นสีดำ */
            border: 1px solid #000000 !important;     /* (Optional) ใส่ขอบดำแทนเพื่อให้รู้ว่าเป็นกรอบ */
            font-weight: bold;
        }

        /* ช่องกรอกข้อมูลตอนปริ้นท์ */
        input, select, textarea {
            background-color: transparent !important;
            border: none !important;      /* ลบเส้นขอบทิ้งเพื่อให้เนียนไปกับกระดาษ */
            box-shadow: none !important;
            color: #000000 !important;
        }

        /* ซ่อนเงาและสิ่งตกแต่งอื่นๆ */
        * {
            box-shadow: none !important;
            text-shadow: none !important;
        }
    }
    /* --- จบส่วนแก้ไข --- */
    </style>
</head>
<body>
    <canvas id="particleCanvas" style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; pointer-events:none;"></canvas>
    
    <div class="hybrid-bg">
        <div class="blob blob-gold"></div>
        <div class="blob blob-green"></div>
    </div>

    <div class="top-right-login">
        <button onclick="checkInternalAccess()" class="btn-login-ghost">
            <i class="fas fa-user-shield"></i>
            <span>เจ้าหน้าที่</span>
        </button>
    </div>

    <div class="portal-container">
        
        <div class="portal-header">
            <div class="logo-wrapper">
                <img src="cpf-logo.png" alt="CPF Logo" onerror="this.style.display='none'">
            </div>
            <h1>ระบบจัดการโครงการก่อสร้าง</h1>
            <p>CPF Construction Project Management System</p>
        </div>

        <div class="card-wrapper">
            
            <a href="service_request.html" class="role-card"> <i class="fas fa-file-invoice-dollar"></i>
    <div>
        <h3>ขอรับบริการ / ประเมินราคา</h3>
        <span>(Start New Project / Quotation)</span>
    </div>
</a>

            <a href="portfolio.html" class="role-card">
                <div class="icon-wrapper">
                    <i class="fas fa-images"></i>
                </div>
                <div class="card-content">
                    <h3>ผลงานการก่อสร้าง</h3>
                    <span>Project Portfolio</span>
                </div>
            </a>

        </div>

    </div>

    <script>
        // Login Function
        async function checkInternalAccess() {
            const { value: password } = await Swal.fire({
                title: '<strong>ยืนยันตัวตนเจ้าหน้าที่</strong>',
                html: '<p style="color:#64748b; margin-top:0.5rem;">กรุณากรอกรหัสผ่านเพื่อเข้าสู่ระบบ</p>',
                input: 'password',
                inputPlaceholder: 'รหัสผ่าน...',
                showCancelButton: true,
                confirmButtonText: '<i class="fas fa-sign-in-alt"></i> เข้าสู่ระบบ',
                cancelButtonText: 'ยกเลิก',
                confirmButtonColor: '#10b981',
                cancelButtonColor: '#64748b',
                background: '#fff',
                backdrop: 'rgba(0,0,0,0.4)',
                inputAttributes: {
                    autocapitalize: 'off',
                    autocorrect: 'off'
                },
                customClass: {
                    popup: 'swal-custom-popup',
                    confirmButton: 'swal-btn-confirm',
                    cancelButton: 'swal-btn-cancel'
                }
            });

            if (password) {
                if (password === 'cccite') {
                    Swal.fire({
                        icon: 'success',
                        title: 'ยินดีต้อนรับ!',
                        text: 'กำลังเข้าสู่ระบบหลังบ้าน...',
                        timer: 1200,
                        showConfirmButton: false,
                        timerProgressBar: true
                    }).then(() => {
                        window.location.href = 'admin.html';
                    });
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'รหัสผ่านไม่ถูกต้อง',
                        text: 'กรุณาลองใหม่อีกครั้ง',
                        confirmButtonColor: '#ef4444',
                        confirmButtonText: 'ตกลง'
                    });
                }
            }
        }

        // Particle Animation (Optimized)
        (function() {
            const canvas = document.getElementById('particleCanvas');
            if(!canvas) return;
            const ctx = canvas.getContext('2d');
            
            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resize);
            resize();

            const particles = [];
            const particleCount = window.innerWidth < 768 ? 30 : 50;
            
            for(let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 0.4,
                    vy: (Math.random() - 0.5) * 0.4,
                    size: Math.random() * 2.5 + 1,
                    opacity: Math.random() * 0.5 + 0.2
                });
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                particles.forEach((p, i) => {
                    p.x += p.vx;
                    p.y += p.vy;
                    
                    if(p.x < 0 || p.x > canvas.width) p.vx *= -1;
                    if(p.y < 0 || p.y > canvas.height) p.vy *= -1;
                    
                    ctx.fillStyle = `rgba(16, 185, 129, ${p.opacity})`;
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                    ctx.fill();

                    // Draw connections
                    for(let j = i + 1; j < particles.length; j++) {
                        const dx = particles[j].x - p.x;
                        const dy = particles[j].y - p.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        
                        if(dist < 150) {
                            ctx.strokeStyle = `rgba(16, 185, 129, ${0.15 * (1 - dist / 150)})`;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(p.x, p.y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.stroke();
                        }
                    }
                });
                
                requestAnimationFrame(animate);
            }
            animate();
        })();
    </script>
</body>
</html>